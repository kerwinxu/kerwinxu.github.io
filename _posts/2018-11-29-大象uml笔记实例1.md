---
layout: post
title: "大象UML笔记实例1"
date: "2018-11-29"
categories: ["构建"]
---

# 大概步骤

## 准备工作

### 了解问题领域

#### 了解业务概况

#### 整理业务目标

### 做好涉众分析

#### 什么是涉众

涉众是与建设的业务系统相关的人和事，涉众不等于用户，通常意义上的用户是系统的使用者，而这个仅仅是涉众的一部分。

#### 发现和定义涉众

- 业主 ： 系统的出资方，投资者。
- 业务提出者 ： 业务方的高层。
- 业务管理者 ： 业务方的中层
- 业务执行者 ： 基层的操作人员
- 第三方 ： 与这项业务有关系的，但并非业务方的其他人和事。
    - 比如购物网站系统，如果双方是通过网上银行完成支付交易的，则网上银行就成了购物网站系统的一个涉众。
    - 一般来说，第三方的期望对系统来说不会产生什么决定性的影响，但大多会起到限制作用。
- 承建方 ： 就是自己啦
- 相关的法律法规
- 用户 : 用户是一个抽象的概念，指的是预期的系统使用者。

#### 涉众分析报告

##### 涉众概要

包括

- 编号
- 涉众名称
- 涉众说明
- 期望

##### 涉众简档

包括

- 涉众
- 涉众代表
- 特点
- 职责
- 成功标准
- 参与
- 可交付工作
- 一件/问题

##### 用户概要

包括

- 编号
- 用户名称
- 用户概况和特点
- 使用系统的方式
- 代表涉众

##### 用户简档

包括

- 用户
- 用户代表
- 说明
- 特点
- 职责
- 成功标准
- 参与
- 可交付工件
- 意见/问题

##### 消费者统计

- 消费者名称
- 消费者概况和特点
- 应用环境
- 使用频率
- 特殊要求

### 规划业务范围

#### 规划业务范围

- 取消一个业务目标
- 调整一个业务目标

#### 规划涉众期望

- 取消一个涉众
- 减少一个涉众期望
- 调整一个涉众期望

### 整理思路

#### 规划优先级

##### 涉众优先级标准

- 最高优先级 数值3 ： 业务核心成员
- 普通优先级 数值2 ：  业务的主要参与者
- 最低优先级 数值1 ： 边缘业务模块的参与者

##### 期望优先级标准

- 最高优先级 数值3 ： 该期望是核心业务模块组成部分，如果缺少，则业务流程不能运转
- 普通优先级 数值2 ： 核心业务的重要辅助部分，如果缺少，则不能完成特定目标或者不能顺畅运转
- 最低优先级 数值1 ： 一些边缘业务，即使缺少了，业务流程也能顺利运转。

##### 优先级矩阵

- 矩阵
    - 每一行表只一个期望，后边的括号中的数字表示优先级
    - 每一列表示一个涉众，后边的括号中的数字表示优先级
- 相乘结果
    - 9和6的为第一优先级
    - 4和3的为第二优先级
    - 2和1的为第三优先级

#### 规划需求层次

人们对事物的理解总是由粗到细，由表及里的。我们最好的做法是循序渐进，从最粗略的业务目标看是理解，然后是业务流程，最后是数据细节

- 业务架构
- 业务流程
- 工作细节

#### 需求调研计划

### 客户访谈技巧

# 获取需求

## 定义边界

我们需要把问题领域射程如下所示的效果，这样才能够进行下一步的用例获取工作。

## [![no img]](http://127.0.0.1/?attachment_id=2669)

边界可大可小，定义边界首先看业务目标，我们首先要明确的是业务目标为谁服务，抛开谁能够操作计算机不谈，仅从业务目标上看。比如我们定义一个“用电客户服务的”边界，很明显，从这个边界上看，用电客户和银行是位于边界之外的，他们是业务主角，而其他所有的涉众都是供电企业的内部人员，位于边界以内，他们是业务工人。

在如下这个边界内，我么可以暂时忽略边界内业务工人的期望。

[![no img]](http://127.0.0.1/?attachment_id=2670)

边界可大可小，比如如下的内部管理边界，上图的业务工人都位于下图的业务边界之外，成了业务主角。

[![no img]](http://127.0.0.1/?attachment_id=2671)

业务边界跟子系统不同，按照业务目标的方式得到边界有这明确的理由，在边界内可以得出的用例也是有着明确的以据。

而如果以谁使用系统来划分，那么可能得到如下的划分，但这样不知道怎么获得业务用例，因为不知道这些涉众对边界的真实目的是什么？

[![no img]](http://127.0.0.1/?attachment_id=2673)

如果是以业务目标的角度来划分边界的，我们就有一个明确的目标了，将于该业务目标有关的用例放在这个边界以内，这个边界以内的所有用例都是用来实现该业务目标的。获得业务用例的方向一下子就明确下来。

总之，主角、边界、用例三者是相生相克的关系，其中定义边界最重要，一点定义了边界，主角就能定义，而一定定义了主角，用例就能发现。

## 发现主角

首先根据涉众分析报告中的涉众概要，我们很容易得到备选的涉众列表；其次根据所定义的边界，我们可以从中寻找那些站在边界外的涉众，用主角的定义去审查这些备选的涉众在此边界内的行为模式，从中找到符合要求的涉众而形成的业务主角。

[![no img]](http://127.0.0.1/?attachment_id=2674)

[![no img]](http://127.0.0.1/?attachment_id=2675)

业务主角和涉众的区别是，业务主角直接与系统交互，而涉众虽然是系统的利益相关者，但却未必直接与系统交互。因此虽然很多情况下涉众可以直接转化为业务主角，但若涉众不直接与系统交互，那么涉众必须找到替代他行使他涉众利益的拎一个角色。

## 获取业务用例

[![no img]](http://127.0.0.1/?attachment_id=2676)

[![no img]](http://127.0.0.1/?attachment_id=2677)

[![no img]](http://127.0.0.1/?attachment_id=2678)

CRC（类-职责-协作）

帮助进行对象分析的技术，就是让小组成员分别扮演一个协作中的类，以拟人化的方法，从自己的需求出发，向对方提出要求，被提到的一方要评估自己是否能够得出答案，并记录下自己被要求的职责。

确定业务范围更多的是对项目管理有用，目前比较流行的项目估算方法是工作分解结构（work breakdown structure） ，而业务用例就可以作为工作分解结构的起点。

[![no img]](http://127.0.0.1/?attachment_id=2681)

## 业务建模

一个完整的业务模型包括如下一些内容

- 业务用例视图
- 业务用例场景
- 业务用例规约
- 业务规则
- 业务对象模型
- 业务用例实现视图
- 业务用例实现场景
- 包图

### 业务用例场景示例

来表述该业务用例在该业务的实际过程中是如何做的，

- 活动图 ： 强调参与该业务的各参与者的职责和活动
- 状态图 ： 一般适用于描述单个对象的行为。
- 时序图 ： 描述该业务的完成时间顺序。
- 写作图 ： 强调参与该业务的个参与者的交互过程。

如下是一个用例场景活动图

\[caption id="attachment\_2682" align="alignnone" width="930"\][![no img]](http://127.0.0.1/?attachment_id=2682) 图9.11低压用电申请业务用例场景.TIF\[/caption\]

 

\[caption id="attachment\_2683" align="alignnone" width="917"\][![no img]](http://127.0.0.1/?attachment_id=2683) 图9.12高压用电申请业务用例场景.TIF\[/caption\]

 

活动图和时序图都以业务主角和业务工人来绘制，

- 视角不同
    - 活动图强调职责
    - 时序图强调顺序
- 主要内容
    - 活动图表达的内容是业务主角和业务工人做什么。
    - 时序图表达的内容是业务主角和业务工人传递的是什么。消息是最主要的内容。
- 总结
    - 活动图表达了业务主角和业务工人做了些什么来完成用例的目标。
    - 时序图表达了业务主角和业务工人传递了些什么来完成用例的目标。

\[caption id="attachment\_2685" align="alignnone" width="636"\][![no img]](http://127.0.0.1/?attachment_id=2685) 图9.13低压用电申请业务用例场景—时序图.TIF\[/caption\]

 

### 业务用例规约示例

包括如下的

- 用例名称
- 用例描述
- 执行者
- 前置条件
- 后置条件
- 主过程描述
- 分支过程描述
- 异常过程描述
- 业务规则
- 涉及的业务主体

### 业务对象模型

#### 业务用例实现视图

[![no img]](http://127.0.0.1/?attachment_id=2686)

业务用例场景用于说明业务怎样执行，但缺少表达如何“实现”的机制。

\[caption id="attachment\_2687" align="alignnone" width="517"\][![no img]](http://127.0.0.1/?attachment_id=2687) 图9.16业务用例实现场景-申请登记实现.TIF\[/caption\]

## 提取业务规则

# 需求分析

## 关键概念分析

找关键概念，称其客户整个业务框架的那条主线

### 建立概念模型

 

\[caption id="attachment\_2688" align="alignnone" width="568"\][![no img]](http://127.0.0.1/?attachment_id=2688) 图10.1概念模型的建立过程.\[/caption\]

如下是核心业务示例图

\[caption id="attachment\_2689" align="alignnone" width="754"\][![no img]](http://127.0.0.1/?attachment_id=2689) 图10.2核心业务示例图.TIF\[/caption\]

\[caption id="attachment\_2690" align="alignnone" width="529"\][![no img]](http://127.0.0.1/?attachment_id=2690) 图10.3挑选出的关键业务用例.TIF\[/caption\]

\[caption id="attachment\_2691" align="alignnone" width="540"\][![no img]](http://127.0.0.1/?attachment_id=2691) 图10.4概念用例示例.TIF\[/caption\]

\[caption id="attachment\_2692" align="alignnone" width="814"\][![no img]](http://127.0.0.1/?attachment_id=2692) 图10.5概念用例场景示例.TIF\[/caption\]

### 建立概念模型

\[caption id="attachment\_2693" align="alignnone" width="448"\][![no img]](http://127.0.0.1/?attachment_id=2693) 图10.7分析类场景示例--创建申请单.TIF\[/caption\]

\[caption id="attachment\_2694" align="alignnone" width="589"\][![no img]](http://127.0.0.1/?attachment_id=2694) 图10.10加入了工作流的分析类场景示例--创建申请单.TIF\[/caption\]

## 建立业务架构

 

\[caption id="attachment\_2695" align="alignnone" width="608"\][![no img]](http://127.0.0.1/?attachment_id=2695) 图10.17面向对象的分析设计过程.TIF\[/caption\]
