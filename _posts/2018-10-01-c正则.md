---
layout: post
title: "c#正则"
date: "2018-10-01"
categories: ["计算机语言", "c"]
---

# 定义正则表达式

## 字符类

- \[character\_group\] : 匹配这个中的任何字符。
- \[^character\_group\] :
- \[first - last \] : 匹配从first到last的所有单个字符。
- . : 除了\\n之外的任何单个字符匹配。
- \\p {name} ：
- \\P{name} :
- \\w : 任何单词字符。
- \\W : 任何非单词字符
- \\s : 任何空白字符。
- \\S : 任何非空白字符
- \\d  : 任何十进制字符
- \\D :  不是十进制的任何字符。

## 定位点

- ^ : 开头
- $ : 结尾
- \\A :  匹配必须出现在字符串的开头
- \\Z : 匹配必须出现在字符串的结尾或者出现在字符串末尾的\\n之前。
- \\z ： 匹配必须出现在字符串的结尾。
- \\G : 匹配必须出现在上一个匹配结束的地方。
    - 不太懂
- \\b : 匹配一个单词边界，也就是指单词和空格间的位置。
    - 例子
        - er\\b
            - 匹配"never"中的"er"，er为单词的最后啦。但不能匹配"verb"中的"er"。
- \\B : 匹配非单词边界。
    - 和上一个相反
    - 例子
        - er\\B
            - 匹配"verb"中的"er"，但不能匹配"never"中的"er"。

## 分组构造

| 分组构造 | 描述 | 模式 | 匹配 |
| --- | --- | --- | --- |
| **( subexpression )** | 捕获匹配的子表达式并将其分配到一个从零开始的序号中。 | (\\w)\\1 | "deep" 中的 "ee" |
| **(?< name >subexpression)** | 将匹配的子表达式捕获到一个命名组中。 | (?< double>\\w)\\k< double> | "deep" 中的 "ee" |
| **(?< name1 -name2 >subexpression)** | 定义平衡组定义。 | (((?'Open'\\()\[^\\(\\)\]\*)+((?'Close-Open'\\))\[^\\(\\)\]\*)+)\*(?(Open)(?!))$ | "3+2^((1-3)\*(3-1))" 中的 "((1-3)\*(3-1))" |
| **(?: subexpression)** | 定义非捕获组。 | Write(?:Line)? | "Console.WriteLine()" 中的 "WriteLine" |
| **(?imnsx-imnsx:subexpression)** | 应用或禁用 _subexpression_ 中指定的选项。 | A\\d{2}(?i:\\w+)\\b | "A12xl A12XL a12xl" 中的 "A12xl" 和 "A12XL" |
| **(?= subexpression)** | 零宽度正预测先行断言。 | \\w+(?=\\.) | "He is. The dog ran. The sun is out." 中的 "is"、 "ran" 和 "out" |
| **(?! subexpression)** | 零宽度负预测先行断言。 | \\b(?!un)\\w+\\b | "unsure sure unity used" 中的 "sure" 和 "used" |
| **(?<=subexpression)** | 零宽度正回顾后发断言。 | (?<=19)\\d{2}\\b | "1851 1999 1950 1905 2003" 中的 "99"、"50"和 "05" |
| **(?<! subexpression)** | 零宽度负回顾后发断言。 | (? | "Hi woman Hi man" 中的 "man" |
| **(?> subexpression)** | 非回溯（也称为"贪婪"）子表达式。 | \[13579\](?>A+B+) | "1ABB 3ABBC 5AB 5AC" 中的 "1ABB"、 "3ABB" 和 "5AB" |

## 限定符

| 限定符 | 描述 | 模式 | 匹配 |
| --- | --- | --- | --- |
| **\*** | 匹配上一个元素零次或多次。 | \\d\*\\.\\d | ".0"、 "19.9"、 "219.9" |
| **+** | 匹配上一个元素一次或多次。 | "be+" | "been" 中的 "bee"， "bent" 中的 "be" |
| **?** | 匹配上一个元素零次或一次。 | "rai?n" | "ran"、 "rain" |
| **{ n }** | 匹配上一个元素恰好 n 次。 | ",\\d{3}" | "1,043.6" 中的 ",043"， "9,876,543,210" 中的 ",876"、 ",543" 和 ",210" |
| **{ n ,}** | 匹配上一个元素至少 n 次。 | "\\d{2,}" | "166"、 "29"、 "1930" |
| **{ n , m }** | 匹配上一个元素至少 n 次，但不多于 m 次。 | "\\d{3,5}" | "166"， "17668"， "193024" 中的 "19302" |
| **\*?** | 匹配上一个元素零次或多次，但次数尽可能少。 | \\d\*?\\.\\d | ".0"、 "19.9"、 "219.9" |
| **+?** | 匹配上一个元素一次或多次，但次数尽可能少。 | "be+?" | "been" 中的 "be"， "bent" 中的 "be" |
| **??** | 匹配上一个元素零次或一次，但次数尽可能少。 | "rai??n" | "ran"、 "rain" |
| **{ n }?** | 匹配前导元素恰好 n 次。 | ",\\d{3}?" | "1,043.6" 中的 ",043"， "9,876,543,210" 中的 ",876"、 ",543" 和 ",210" |
| **{ n ,}?** | 匹配上一个元素至少 n 次，但次数尽可能少。 | "\\d{2,}?" | "166"、 "29" 和 "1930" |
| **{ n , m }?** | 匹配上一个元素的次数介于 n 和 m 之间，但次数尽可能少。 | "\\d{3,5}?" | "166"， "17668"， "193024" 中的 "193" 和 "024" |

## 反向引用构造

反向引用允许在同一正则表达式中随后标识以前匹配的子表达式

| 反向引用构造 | 描述 | 模式 | 匹配 |
| --- | --- | --- | --- |
| **\\ number** | 反向引用。 匹配编号子表达式的值。 | (\\w)\\1 | "seek" 中的 "ee" |
| **\\k< name >** | 命名反向引用。 匹配命名表达式的值。 | (?< char>\\w)\\k< char> | "seek" 中的 "ee" |

## 备用构造

| 备用构造 | 描述 | 模式 | 匹配 |
| --- | --- | --- | --- |
| **|** | 匹配以竖线 (|) 字符分隔的任何一个元素。 | th(e|is|at) | "this is the day. " 中的 "the" 和 "this" |
| **(?( expression )yes | no )** | 如果正则表达式模式由 expression 匹配指定，则匹配 _yes_；否则匹配可选的 _no_部分。 expression 被解释为零宽度断言。 | (?(A)A\\d{2}\\b|\\b\\d{3}\\b) | "A10 C103 910" 中的 "A10" 和 "910" |
| **(?( name )yes | no )** | 如果 name 或已命名或已编号的捕获组具有匹配，则匹配 _yes_；否则匹配可选的 _no_。 | (?< quoted>")?(?(quoted).+?"|\\S+\\s) | "Dogs.jpg "Yiska playing.jpg"" 中的 Dogs.jpg 和 "Yiska playing.jpg" |

## 替换

替换是替换模式中的正则表达式。

| 字符 | 描述 | 模式 | 替换模式 | 输入字符串 | 结果字符串 |
| --- | --- | --- | --- | --- | --- |
| **$**number | 替换按组 _number_ 匹配的子字符串。 | \\b(\\w+)(\\s)(\\w+)\\b | $3$2$1 | "one two" | "two one" |
| **${**name**}** | 替换按命名组 _name_ 匹配的子字符串。 | \\b(?< word1>\\w+)(\\s)(?< word2>\\w+)\\b | ${word2} ${word1} | "one two" | "two one" |
| **$$** | 替换字符"$"。 | \\b(\\d+)\\s?USD | $$$1 | "103 USD" | "$103" |
| **$&** | 替换整个匹配项的一个副本。 | (\\$\*(\\d\*(\\.+\\d+)?){1}) | \*\*$& | "$1.30" | "\*\*$1.30\*\*" |
| **$\`** | 替换匹配前的输入字符串的所有文本。 | B+ | $\` | "AABBCC" | "AAAACC" |
| **$'** | 替换匹配后的输入字符串的所有文本。 | B+ | $' | "AABBCC" | "AACCCC" |
| **$+** | 替换最后捕获的组。 | B+(C+) | $+ | "AABBCCDD" | AACCDD |
| **$\_** | 替换整个输入字符串。 | B+ | $\_ | "AABBCC" | "AAAABBCCCC" |

## 杂项构造

| 构造 | 描述 | 实例 |
| --- | --- | --- |
| **(?imnsx-imnsx)** | 在模式中间对诸如不区分大小写这样的选项进行设置或禁用。 | \\bA(?i)b\\w+\\b 匹配 "ABA Able Act" 中的 "ABA" 和 "Able" |
| **(?#注释)** | 内联注释。该注释在第一个右括号处终止。 | \\bA(?#匹配以A开头的单词)\\w+\\b |
| **#** \[行尾\] | 该注释以非转义的 # 开头，并继续到行的结尾。 | (?x)\\bA\\w+\\b#匹配以 A 开头的单词 |
